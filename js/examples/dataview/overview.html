<!DOCTYPE html>
<html>
<head>
    <title>DataView Overview</title>
    <script src="../../dataview/dataview.js"></script>
    <script src="../resources/testdata.js"></script>
    <script src="../resources/dust-full-2.0.0.js"></script>
    <link rel="stylesheet" href="../resources/foundation.css" />
</head>
<body>
    <style>
        tr {
            vertical-align: middle;
        }
        input[type="checkbox"], input[type="number"], button {
            margin:0;
        }

        #tableHolder {}
    </style>
    <script>
        window.onload = function() {
            var stringTemplate = '<td>{#auto}<input value="{value}" />{/auto}</td>';
            var booleanTemplate = '<td>{#auto}<input type="checkbox" {?.value}checked{/value} />{/auto}</td>';
            var floatTemplate = '<td>{#auto}<input value="{value}" />{/auto}</td>';
            var integerTemplate = '<td>{#auto}<input value="{value}" />{/auto}</td>';
            var alertCellTemplate = '<td><button onclick="alert(JSON.stringify(this.parentNode.parentNode.data));" />JSON</td>';

            window['dv'] = new mobi.DataView('tableId',
                testData.slice(0,100),
                {
                    target: '#tableHolder',
                    template: {
                        // table wide templates
                        // bodycell: stringTemplate
                    },
                    columns : [
                        {name:'index', headerText:'ID', footerText:'ID'},
                        {name:'name', headerText:'Name', footerText:'Name',
                            template:{ bodycell: stringTemplate}},
                        {name:'surname' , headerText:'Surname', footerText:'Surname',
                            template:{ bodycell: stringTemplate}},
                        {name:'integer', headerText:'Age', footerText:'Age',
                            template:{ bodycell: integerTemplate}},
                        {name:'index_start_at', headerText:'Ordered Integer', footerText:'Org. Int',
                            template:{ bodycell: integerTemplate}},
                        {name:'float' , headerText:'Float', footerText:'Float',
                            template:{ bodycell: floatTemplate}},
                        {name:'email' , headerText:'EMail', footerText:'Email',
                            template:{ bodycell: stringTemplate}},
                        {name:'bool' , headerText:'Boolean', footerText:'Bool',
                            template:{ bodycell: booleanTemplate }},
                        {name:'alert', headerText:'JSON Alert', footerText:'Alert',
                            template:{ bodycell: alertCellTemplate }}
                    ]
                }
            );
        }
    </script>
    <div id="tableHolder">

    </div>
</body>
</html>
