<div id="scan" title="Scan It" class="panel" >
    <h2>QR Code Scanning</h2>
    <fieldset>
        <div class="row"><p class="normalText">Scan a QR Code with a simple line of JavaScript...</p></div>
        <div class="row">
            <code>
                ice.bridgeit.scan(id,callback);
            </code>
        </div>
    </fieldset>
    
    <a id="scanBtn" type="button" class="whiteButton bridgeItBtn"
        onclick="ice.bridgeit.scan('scanBtn',handleScan);">Scan a Code</a>
        
    <fieldset id="scans">
    </fieldset>
    
    <div class="footer">
        <a href="#">
            <img src="./images/icesoft-emblem.png" class="icesoft-emblem"/>
        </a>
        &copy; 2013 ICEsoft Technologies
    </div>
    <script type="text/javascript">
    function handleScan(event)  {
        alert('handleScan:' + event);
        var HTTP = "http";
        var text = event.value;
        alert('text=' + text);
        for( prop in event ){
            alert(prop + '=' + event[prop]);
        }
        if (HTTP == text.substring(0, HTTP.length))  {
            alert('url=' + text);
            text = "<a href='" + text + "'>" + text + "</a>";
        }
        var elem = document.getElementById("scans");
        alert('scans elem = ' + elem);
        var row1 = document.createElement('div');
        row1.setAttribute('class','row');
        row1.innerHTML = "Scanned on " + new Date();
        elem.appendChild(row1);
        var row2 = document.createElement('div');
        row2.setAttribute('class','row');
        row2.innerHTML = text;
        elem.appendChild(row2);
    }
    </script>

</div>
