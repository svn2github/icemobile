<!--
  ~ Copyright 2004-2012 ICEsoft Technologies Canada Corp.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the
  ~ License. You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an "AS
  ~ IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
  ~ express or implied. See the License for the specific language
  ~ governing permissions and limitations under the License.
  -->
<html>
<head>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>
    <style>
        .tbox {
            width: 100%;
        }
        .camera, .plus {
            background: white;
            border-radius: 8px;
            background-size: 75%;
            background-repeat: no-repeat;
            background-position: center;
            height: 32px;
            width: 32px;
        }

        .camera {
            background-image: url("resources/images/camera.png");
        }
        .plus {
            background-image: url("resources/images/plus.png");
        }

    </style>
</head>
<body>
    <script>
    var currentID = 0;
    function addRow(event)  {
        currentID++;
        var camID = "cam" + currentID;
        var camThumbID = camID + "-thumb";
        var titleID = "title" + currentID;

        var theTable = document.getElementById("thetable");
        var tableRow = theTable.insertRow(-1);
        var template = 
        "<td><input type='text' placeholder='Title' class='tbox' " +
          "name='title##'></td>" +
        "<td><input type='button' class='camera' name='cam##' id='cam##' " +
          "onclick='ice.camera(this.id);' ></td>" +
        "<td><img id='cam##-thumb' width='32' height='32'></td>" +
        "<td>GPS ##</td>" +
        "<td><input type='button' onclick='addRow(event)' class='plus'></td>";

        tableRow.innerHTML = template.replace(/##/g, currentID);

        //hide the old button
        event.target.type="hidden";
    }
    </script>

    <form id="items" action="upload" method="POST" enctype="multipart/form-data">
        <table id="thetable" width="100%">
        <tr>
        <td width="60%"><input type='text' placeholder='Title' class='tbox' name='title0'></td>
        <td><input type='button' class='camera' name='cam0' id='cam0'
            onclick='ice.camera(this.id);' ></td>
        <td><img  id='cam0-thumb' width='32' height='32'></td>
        <td>GPS</td>
        <td><input type='button' onclick='addRow(event)' class='plus'></td>
        </tr>
        </table>
        <br>
        <input type='button' value='Upload' onclick='ice.upload("items");'>
    </form>

</body>
</html>

